# DMWEL
### *Mathematica* and *Python* code for "Dark matter with excitable levels", by Andrew J. Wren, at [arxiv:1912.11453](http://arxiv.org/abs/1912.11453)

The files, other than this `README.md`, are explained below. For further details, refer to the paper.

`DMWEL_calculations.nb` is the main *Mathematica* notebook. If not already set up, you will need to configure MaTeX - see http://szhorvat.net/pelican/latex-typesetting-in-mathematica.html - to draw the figures.

`dmwel_data.data` is a supporting datafile, which is used to avoid repeating long calculations.  Ensure that it is put in the same folder as `DMWEL_calculations.nb`.

All the calculations and data are generated by `DMWEL_calculations.nb`, except for the CMB anistropy calculations made in `ExoCLASS`.  These are done as follows.

The *Python* files `common.py` and `model.py` should replace the corresponding files in the `ExoCLASS`'s  `/DarkAgesModule/DarkAges/`, for example in the version https://github.com/lesgourg/class_public/tree/42e8f9418e3442d1ea3f26ff84dc9f0e856a0f1d

The *Jupyter* interactive *Python* notebook `dmwel_chi_and_fc.ipynb` and the associated data file `ftabPython.data` (which was generated by `DMWEL_calculations.nb`) should be put in `ExoCLASS`'s  `/notebooks/`.  

To run `ExoCLASS`, I used *Ubuntu* in *Windows 10* to run *Jupyter*, and on *Jupyter* opened and ran `dmwel_chi_and_fc.ipynb`, using a *Python 2* kernel.
